### 隐式类型转换
javascript在取值类型非常灵活。如：**当JavaScript期望使用一个布尔值的时候，你可以提供任意类型的值，JavaScript将根据需要自行转换类型。真值转换成true,其他值转换成false。这在其他类型中也适用，当JavaScript期望适用一个字符串，它能把给定的值转换成字符串。当然JavaScript期望使用一个数字的时候，他把给定的值转成数字（如果转换的时候，结果是毫无意义的就会返回NaN）**

**BeCareful**
undefined转换成字符串的时候`"undefined"`,当他转换成数字的时候是`"NaN"`,转换成对象的时候会抛出类型错误：`"throws TypeError"`
null转成字符串的时候是：`"null"`,当它转换成数字的时候是：`0`,转换成对象的时候会抛出类型错误：`"throws TypeError"`,
字符串数组转成数字的时候也是`"NaN"`
函数转成数字的时候也是`"NaN"`

### 显式类型转换
```
Number('3')
String(false)
Boolean([])
Object(3)
```
需要注意的时候除了`null`和`undefined`之外的任何值都具有toString()的方法，这个方法的执行结果通常和String()方法的返回结果是一致的。

**补充1：某些运算符除了会做隐式的类型转换，同时也会用于类型转换**
例子：
```
x+""会将x做一个转成String
+x // 等价于Number(x),也可以写成x-0
!!x // 等价于Bealean(x),注意是双叹号
```
**补充2:Number类定义的toString()方法可以接收表示转换基数（radix）的可选参数，如果不指定此参数，转换规则会默认是基于10进制。同样也可以将数字转换成其他进制数（返回是2～36之间）**
例子

```
var n  = 17;
binary_string = n.toString(2)
octal_string = "0"+n.toString(8) // 转换成8进制的 “021”
hex_string = "0x"+n.toString(16) // 转换成“0x11”
```

**补充3:parseInt和parseFloat函数，parseInt只解析整数，而parseFloat则可以解析整数整数和浮点数，如果字符串前缀是`"0x"`或者是`"0X"`,parseInt将其解析成十六进制（但这个并不适用于8进制），parseInt和parseFloat都会跳过任意数量的前导空格，尽可能解析更多数字字符，如果第一个非空格字符是非法的数字直接量，那么会返回NaN**

```
parseInt("0xff") // 255
parseFloat("0xFF") // 255

parseInt("$123") // NaN

parseInt("0123") => 这种转换方法在es3的时候，会当成8进制来转换，但是在es5中便明确表明要直接传入第二个参数才能进行转换

parseInt("021",8) // 17

```

### 对象转换成原始值
1. 对象到布尔值
```
new Boolean("obj")
```
2. 对象到数字，对象到字符串

对象到字符串和对象到数字的转换是通过调用待转换的对象的方法来完成的，但是事实上：JavaScript有两个不同的方法来进行转换。所有的对象都继承了两个转换方法:`toString`和`valueOf`
#### toString
默认的toString()方法并不会返回一个有趣的值
```
({x:1,y:2}).toString() => "[object Object]"
```

但是很多类定义了特定版本的toString()方法。例如：数组类（Array）会将数组元素转换成一个字符串，并在元素之间添加逗号后合并成结果字符串

```
[1,2,3].toString() // 1,2,3
```

函数类的toString()方法返回这个函数的实现定义的表示方式
```
(function(x){f(x)}).toString() // => "function(x){\nf(x);\n}"
```
日期类的toString()方法返回了一个可读的日期和时间字符串

```
new Date(2010,0,1).toString() // "Fri Jan 01 2010 00:00:00 GMT-0800(pst)"
```

#### valueOf
如果存在任意的原始值，他就默认将对象转换为表示它的原始值

```
var d = new Date(2010,0,1)
d.valueOf() //=> 1262332800000
```

---
- JavaScript中对象到字符串的转换进过了以下几个步骤

```
1. 如果对象具有toString()方法，则调用这个方法。如果它返回一个原始值，JavaScript将这个值转换成字符串，并返回这个字符串结果
2. 如果对象没有toString()方法，或者这个方法并不返回一个原始值，那么JavaScript会调用valueOf方法。如果存在这个方法，则javaScript调用它，如果返回值是原始值，JavaScript将这个值转换成字符串（如果本身不是字符串的话）
```

- Javascript中对象转换成数字，Javascript也做了同样的事，只是JavaScript会先调用valueOf方法

这就能解释为什么空数组会被转换成0以及具有单个元素的数组会被转换成一个数字。数组继承了默认的valueOf方法，所以数组直接调用valueOf返回的是一个对象而不是原始值，所以数组调用了toString()方法。空数组转换成了空字符串，然后空字符串被转成了0，含有一个数字的数组转换成了字符串的结果，然后转成数字

#### +，-，== >四种运算符的转换方式

```
var now = new Date();
typeOf (now+1) // => "string":"+"将日期转换为字符串
typeOf(now-1) //=> "number":"-"使用对象到数字的转换
now ==now.toString() //=> true 隐式的和显式的字符串转换
now>(now-1) //=> 将日期转换成数字
```