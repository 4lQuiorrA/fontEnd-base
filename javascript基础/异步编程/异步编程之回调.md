## 回调

> 回调编写和处理`JavaScript`程序异步逻辑的最常用的方式。回调是`JavaScript`这门语言中最基础的异步模式

### 异步模式

现在无论是`Node`服务端，还是`Web`端，主要的异步形式有：

- 回调
- promise
- Generator
- Await/async

**注意：**

> 回调和异步没有直接的关系

### 同步回调

```
 function foo(cb){
	cb();
  console.log('我是foo函数里面的')
}

function callback(){
	console.log('我是一个同步回调函数')
}

foo(callback);

// 我是一个同步回调函数
// 我是foo函数里面的打印
```

### 异步回调

```
ajax({
	url: "xxx",
	data: data,
	success: function(data){
	
	}
})
```



## 回调的缺点

- 精确编写和追踪使用回调的异步`JavaScript`代码会比较困难，因为同步或者异步的不确定性
- 回调地狱，人脑对大量嵌套的回调函数处理起来会比较困难。由于回调表达异步流程的方式是非线性的，非顺序的，这使得正确推导这样的代码这样的代码难度很大，难于理解的代码就是坏代码，会导致坏bug
- 无法按照自己想要的去终止回调代码的执行
- 对于返回的数据类型没有任何校验，很多东西需要开发自己去构建整个机制，如果一旦这些数据没有校验，那么这些问题就是隐藏的问题，即使这些问题可能大部分情况是不会出现的，但是隐藏的`bug`也是`bug`,虽然说可以通过代码量来解决这些问题，但是这样就使得代码量增加。

